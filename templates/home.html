<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reg</title>
    <link             href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,400;0,700;1,400;1,700&display=swap"
          rel="stylesheet">
    <script>
        function updateDateTime() {
            // Get the current date and time in Central Mexico
            let options = {
                timeZone: "America/Mexico_City",
                year: "numeric",
                month: "long",
                day: "numeric",
                hour: "2-digit",
                minute: "2-digit",
                second: "2-digit",
                hour12: true
            };

            let currentDateTime = new Date().toLocaleString("es-MX", options);

            // Format the date and time as "9 de abril de 2025, 09:40:00"
            const dateTimeElement = document.getElementById('date-time');
            if (dateTimeElement) {
                dateTimeElement.innerHTML = currentDateTime;
            }
        }

        // Update the time every second
        setInterval(updateDateTime, 1000);

        // Initial call to set the time immediately
        updateDateTime();
    </script>
    <style>

        #btnCerrar {
            
            position: sticky;
            top:0;
            margin-top:0px;
            margin-left:75%;
            z-index: 1000;

        }
        
        #banner {
            display:block;
            margin-left:auto;
            margin-right:auto;
            width:100%;
            height: 240px;
            object-fit:cover;
        }
        body {

            margin-left: auto;
            margin-right: auto;
            text-align:justify;
        }

        .partial-footer-total {
            color:#AA99e1;
            font-size:14px;
        }

        .navtxt{
            color:rgb(100,100,100);
        }

        
    </style>

    </head>
        <nav class="navbar fixed-top bg-white shadow-sm mb-4">
            <div class="container-fluid d-flex justify-content-between row">
                <span class="navbar-brand mb-0 h1 navtxt col-9">NEM</span><a href="{{ url_for('logout') }}" class="btn btn-outline-danger btn-sm col-3" id="btnCerrar">Cerrar Sesión</a>
            </div>
        </nav>
    
        
    
        <img class="mt-5" id="banner" src= "https://www.adgility.com.au/hs-fs/hubfs/advanced-insights-analystics-reporting-GIF.gif?width=1780&height=1080&name=advanced-insights-analystics-reporting-GIF.gif">



    
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          <div class="container mt-3">
            {% for category, message in messages %}
              <div class="alert alert-{{ 'danger' if category == 'danger' else 'success' }}" role="alert">
                {{ message }}
              </div>
            {% endfor %}
          </div>
        {% endif %}
      {% endwith %}
    
    <div style="text-align:left;padding-left:20px;">
        <text style="font-size:11px;color:#04AA6D;" id="date-time"></text>&nbsp;
        <text style="font-size:11px;color:#04AA6D;">, </text>
        <text style="font-size:11px;color:#04AA6D;" id="time"></text>
    </div>
<body>
    <header>
        <div>            
            <!--{% set item = (pg 
            | selectattr('carrera', 'equalto', 'TA') 
            | selectattr('semestre', 'equalto', 1) 
            | first) %}-->
            {% set item = (pg | selectattr('parcial', 'equalto', 'PARCIAL 1') |                 first) %}
            
            {% if item %} 
            <h1 class="text-center mt-4 mb-2" style="color:rgb(100,100,100);">
                {{item['asig']}}
            </h1>
            {% endif %} 
        </div>
    </header>

        
    <main class="container">
        <p style="text-align:right;color:rgb(150,150,150);">@ by M.C. Héctor René Becerril Cejudo</p>
        
        <br>
        <br>
<!--        <a href="https://dgetaycm.sep.gob.mx/Con%C3%B3cenos/2" target="_blank">Acerca de DGETAyCM</a>&#128072;<br>
        <a href="https://renebec.github.io/mapdgetaycm/" target="_blank">Mapa de planteles</a>&#128072;
 -->       
        <h2 class="text-center mt-4 mb-2" style="color:rgb(100,100,100);">
        </h2>

        {% set item = (pg | selectattr('parcial', 'equalto', 'PARCIAL 1') |                 first) %}
        {% if item is defined and item.meta | default(false) %}
        
        <p class="lead">
            {{ item.meta }}
        </p>
        {% endif %}
<br><br>
        <p class="lead">   
            <i style="color:rgb(150,150,150);font-size:16px">M.C. Héctor René Becerril Cejudo</i><br><i style="color:rgb(150,150,150);font-size:16px">Aguascalientes, México.</i>
        </p>


        
        {% if es_profesor %}
        <a  href="{{ url_for('plan_carga') }}">
              <button type="submit" class="btn btn-warning">Subir una planeación</button>
        </a>
        {% endif %}

        
        <div>            
            {% set item = (pg | selectattr('parcial', 'equalto', 'PARCIAL 1') |                 first) %}
            
            {% if item %}
                <h2 class="text-center mt-4 mb-2" style="padding-                                           bottom:16px;color:rgb(100,100,100);">
                    {{item['parcial']}}
            </h2>
            {% endif %}
        </div>
        
        <div>
            {% for i in pg %}
                {% if i['parcial'] == 'PARCIAL 1' %}
                    {% include 'temasitem.html' %}
                {% endif %}

            {% endfor %}
        </div>

        <text class='partial-footer-total'>Parcial 1</text>
        <div>

            {% set ns = namespace(total=0) %}

            {% for i in pg %}
                {% if i['parcial'] == 'PARCIAL 1' %}
                    {% set apertura = i['apPond'] | int %}
                    {% set desarrollo = i['dePond'] | int %}

                    {% set cierre = i['ciPond'] | int %}
                    {% set parcial_sum = apertura + desarrollo + cierre %}
                    {% set ns.total = ns.total + parcial_sum %}
                {% endif %}
            {% endfor %}

            <text class='partial-footer-total'>Total ponderado: {{ ns.total }}% </text>
                <br>

            {% set ts = namespace(total=0) %}

            {% for i in pg %}
                {% if i['parcial'] == 'PARCIAL 1' %}
                    {% set tapertura = i['apDur'] | int %}
                    {% set tdesarrollo = i['deDur'] | int %}
            
                    {% set tcierre = i['ciDur'] | int %}
                    {% set tparcial_sum = tapertura + tdesarrollo + tcierre %}
                    {% set ts.total = ts.total + tparcial_sum %}
                {% endif %}
            {% endfor %}

            <text class='partial-footer-total'>Total tiempo: {{ ts.total/60 }} hrs</text>
        </div>   

        <div>                     
                {% set item = (pg | selectattr('parcial', 'equalto', 'PARCIAL 2') |                 first) %}
            
                {% if item %}
                <h2 class="text-center mt-4 mb-2" style="padding-                                       bottom:16px;color:rgb(100,100,100);">
                    {{item['parcial']}}
                </h2>
                {% endif %}
        </div>
        <br>
            

        <div>
            {% for i in pg %}
                {% if i['parcial'] == 'PARCIAL 2' %}
                    {% include 'temasitem.html' %}
                {% endif %}
            {% endfor %}
        </div>
        <text class= 'partial-footer-total'>Parcial 2</text>
        <div>
            {% set ns = namespace(total=0) %}

            {% for i in pg %}
                {% if i['parcial'] == 'PARCIAL 2' %}
                    {% set apertura = i['apPond'] | int %}
                    {% set desarrollo = i['dePond'] | int %}
                   
                    {% set cierre = i['ciPond'] | int %}
                    {% set parcial_sum = apertura + desarrollo + cierre %}
                    {% set ns.total = ns.total + parcial_sum %}
                {% endif %}
            {% endfor %}

            <text class= 'partial-footer-total'>Total ponderado: {{ ns.total }}% 
            </text>        
            <br>
            
            {% set ns = namespace(total=0) %}

            {% for i in pg %}
                {% if i['parcial'] == 'PARCIAL 2' %}
                    {% set tapertura = i['apDur'] | int %}
                    {% set tdesarrollo = i['deDur'] | int %}
                   
                    {% set tcierre = i['ciDur'] | int %}
                    {% set parcial_sum = tapertura + tdesarrollo + tcierre %}
                    {% set ns.total = ns.total + parcial_sum %}
                {% endif %}
            {% endfor %}

            <text class='partial-footer-total'>Total tiempo: {{ ns.total/60 }} hrs</text>
        </div>
        
        <div>                     
        {% set item = (pg | selectattr('parcial', 'equalto', 'PARCIAL 3') | first)          %}
                {% if item %}
                <h2 class="text-center mt-4 mb-2" style="padding-bottom:16px;color:rgb(100,100,100);">
                    {{item['parcial']}}
                </h2>
                {% endif %}
        </div>
        <br>
            
        <div>
            {% for i in pg %}
                {% if i['parcial'] == 'PARCIAL 3' %}
                    {% include 'temasitem.html' %}
                {% endif %}
            {% endfor %}
        </div>
        <text class= 'partial-footer-total'>Parcial 3</text>
        <div>
            {% set ns = namespace(total=0) %}

            {% for i in pg %}
                {% if i['parcial'] == 'Parcial 3' %}
                    {% set apertura = i['apPond'] | int %}
                    {% set desarrollo = i['dePond'] | int %}
                    
                    {% set cierre = i['ciPond'] | int %}
                    {% set parcial_sum = apertura + desarrollo + cierre %}
                    {% set ns.total = ns.total + parcial_sum %}
                {% endif %}
            {% endfor %}

            <text class='partial-footer-total'>Total ponderado: {{ ns.total }}%</text>             
            <br>

            {% set ns = namespace(total=0) %}

            {% for i in pg %}
                {% if i['parcial'] == 'PARCIAL 3' %}
                    {% set tapertura = i['apDur'] | int %}
                    {% set tdesarrollo = i['deDur'] | int %}
                   
                    {% set tcierre = i['ciDur'] | int %}
                    {% set parcial_sum = tapertura + tdesarrollo + tcierre %}
                    {% set ns.total = ns.total + parcial_sum %}
                {% endif %}
            {% endfor %}

            <text class='partial-footer-total'>Total tiempo: {{ ns.total/60 }}                         hrs</text>
        </div>
        <!--BOTON CONTACTO -->
        <div style="text-align:center;">
            <a class="btn btn-primary btn-lg"  type="button"                                       href="mailto:mc.renebec@gmail.com?                                        subject=Pregunta%20sobre%20el%20curso%20de%20Pensamiento%20Matemático%20I&body=Nombre%3A%20%3C%20escriba%20aqu%C3%AD%20su%20nombre%20completo%20%3E%0D%0ADatos%3A%20%3C%20escriba%20sus%20datos%20de%20Semestre%2C%20Grupo%20y%20Carrera%20%3E%0D%0APregunta%3A%20%3C%20escriba%20aqu%C3%AD%20su%20pregunta%20o%20comentario%20%3E%0D%0A">Contacto</a>
        </div>
        </main>
        <footer>
        <p class="mt-3 mb-5 text-center">&copy; 2025 HRBC</p>
        </footer>
</body>
</html>